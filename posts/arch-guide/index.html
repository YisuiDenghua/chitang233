<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Chi_Tang"><meta name="copyright" content="Chi_Tang"><meta name="generator" content="Hexo 6.0.0"><meta name="theme" content="hexo-theme-yun"><title>Arch Linux 折腾指南 | Chi_Tang's Blog</title><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="dns-prefetch" href="https://cos.yunyoujun.cn"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"chitang.tech","root":"/","title":"池塘的博客","version":"1.10.4","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false,"src":"/js/search/local-search.js"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Chi_Tang's Blog" type="application/atom+xml"><meta name="description" content="本文仅为 Arch Linux 的个人安装 &amp; 配置过程，不代表 Arch Linux 官方Arch Linux 是一个滚动更新的发行版，需要经常通过 sudo pacman -Syu 来更新软件包，否则可能会导致滚挂，如果不经常使用电脑但也想用 Arch Linux，请在选择内核时采用 linux-lts本文命令行中文本编辑均使用 vim，你可以换成任何你喜欢的其他编辑器本文图形界">
<meta property="og:type" content="article">
<meta property="og:title" content="Arch Linux 折腾指南">
<meta property="og:url" content="https://chitang.tech/posts/arch-guide/index.html">
<meta property="og:site_name" content="Chi_Tang&#39;s Blog">
<meta property="og:description" content="本文仅为 Arch Linux 的个人安装 &amp; 配置过程，不代表 Arch Linux 官方Arch Linux 是一个滚动更新的发行版，需要经常通过 sudo pacman -Syu 来更新软件包，否则可能会导致滚挂，如果不经常使用电脑但也想用 Arch Linux，请在选择内核时采用 linux-lts本文命令行中文本编辑均使用 vim，你可以换成任何你喜欢的其他编辑器本文图形界">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://chitang.tech/images/arch-guide/bfsu.png">
<meta property="og:image" content="https://chitang.tech/images/arch-guide/linux-dd.png">
<meta property="og:image" content="https://camo.githubusercontent.com/7ebba9863fafbf14cf179ef1555d8a53882188eb3d5b125084c8d26f2b008f71/68747470733a2f2f7a696d66772e6769746875622e696f2f696d616765732f70726f6d7074732f6769747374657240322e706e67">
<meta property="og:image" content="https://camo.githubusercontent.com/c8215d78fe82b947668317b16cdee0a16d25ed7b24c462cb198e1ac6c037f3f1/68747470733a2f2f7a696d66772e6769746875622e696f2f696d616765732f70726f6d7074732f6d616769636d61636540322e706e67">
<meta property="og:image" content="https://raw.githubusercontent.com/romkatv/powerlevel10k-media/master/prompt-styles-high-contrast.png">
<meta property="og:image" content="https://kde.org/content/plasma-desktop/plasma-widgets.png">
<meta property="og:image" content="https://www.gnome.org/wp-content/uploads/2021/03/wgo-splash-40.png">
<meta property="og:image" content="https://cdn.xfce.org/about/screenshots/4.16-1.png">
<meta property="og:image" content="https://distrowatch.com/images/ktyxqzobhgijab/deepin.png">
<meta property="og:image" content="https://chitang.tech/images/stickers/touch-fish.jpg">
<meta property="article:published_time" content="2021-12-06T11:01:57.000Z">
<meta property="article:modified_time" content="2022-06-18T03:21:26.591Z">
<meta property="article:author" content="Chi_Tang">
<meta property="article:tag" content="Arch">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Guide">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://chitang.tech/images/arch-guide/bfsu.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><canvas id="trianglifyContainer"></canvas><script defer src="https://fastly.jsdelivr.net/npm/trianglify@4/dist/trianglify.bundle.js"></script><script>document.addEventListener("DOMContentLoaded", () => {
  const pattern = trianglify({
    width: 800,
    height: 600,
    cellSize: 75,
    palette: ["YlGnBu", "GnBu", "Purples", "Blues"],
  });
  const canvasOpts = {
    applyCssScaling: false
  }
  document.body.appendChild(pattern.toCanvas(trianglifyContainer, canvasOpts));
});</script><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Chi_Tang"><img width="96" loading="lazy" src="/images/avatar.webp" alt="Chi_Tang"><span class="site-author-status" title="字节我操你妈">🖕</span></a><div class="site-author-name"><a href="/about/">Chi_Tang</a></div><a class="site-name" href="/about/site.html">Chi_Tang's Blog</a><sub class="site-subtitle">池塘的博客</sub><div class="site-description">只是一个普通的初中生罢了</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">6</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">11</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://yun.yunyoujun.cn" title="文档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="/atom.xml" title="RSS" target="_blank" style="color:orange"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rss-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/chitang233" title="GitHub" target="_blank" style="color:#181717"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:chitang233@proton.me" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=474383058" title="网易云音乐" target="_blank" style="color:#C10D0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/chi-tang-jun-23" title="知乎" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/113980518" title="bilibili" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/chitang233" title="Telegram" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://t.me/chitang_group" title="Telegram Group" target="_blank" style="color:#0088CC"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-telegram-fill"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://wpa.qq.com/msgrd?v=3&amp;uin=1194927439&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="友链" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%BC%8F%E5%AE%89%E8%A3%85%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87"><span class="toc-number">1.</span> <span class="toc-text">正式安装前的准备</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD"><span class="toc-number">1.1.</span> <span class="toc-text">下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%BB%E5%BD%95"><span class="toc-number">1.2.</span> <span class="toc-text">刻录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ventoy-%E6%8E%A8%E8%8D%90"><span class="toc-number">1.2.1.</span> <span class="toc-text">Ventoy(推荐)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-DD"><span class="toc-number">1.2.2.</span> <span class="toc-text">Linux DD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Windows-Rufus"><span class="toc-number">1.2.3.</span> <span class="toc-text">Windows Rufus</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-number">1.3.</span> <span class="toc-text">准备磁盘分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BIOS-%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">BIOS 设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6-UEFI-%E5%90%AF%E5%8A%A8"><span class="toc-number">1.4.1.</span> <span class="toc-text">强制 UEFI 启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">关闭安全启动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5-LiveCD"><span class="toc-number">1.5.</span> <span class="toc-text">进入 LiveCD</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#LiveCD"><span class="toc-number">2.</span> <span class="toc-text">LiveCD</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E7%BD%91"><span class="toc-number">2.1.</span> <span class="toc-text">联网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E7%BA%BF%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="toc-number">2.1.1.</span> <span class="toc-text">有线连接到路由器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WiFi-%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.1.2.</span> <span class="toc-text">WiFi 连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.1.3.</span> <span class="toc-text">检查网络连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4"><span class="toc-number">2.2.</span> <span class="toc-text">更新系统时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">2.3.</span> <span class="toc-text">分区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.4.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">2.5.</span> <span class="toc-text">挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GPT"><span class="toc-number">2.5.1.</span> <span class="toc-text">GPT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MBR"><span class="toc-number">2.5.2.</span> <span class="toc-text">MBR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8D%A2%E6%BA%90"><span class="toc-number">2.6.</span> <span class="toc-text">换源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Arch-Linux-%E5%88%B0%E7%A1%AC%E7%9B%98"><span class="toc-number">2.7.</span> <span class="toc-text">安装 Arch Linux 到硬盘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E6%A0%B8%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">2.7.1.</span> <span class="toc-text">内核的选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.7.2.</span> <span class="toc-text">安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%88%86%E5%8C%BA%E8%A1%A8"><span class="toc-number">2.8.</span> <span class="toc-text">生成分区表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="toc-number">2.9.</span> <span class="toc-text">设置时区</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3"><span class="toc-number">2.10.</span> <span class="toc-text">设置网络相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%8D"><span class="toc-number">2.10.1.</span> <span class="toc-text">计算机名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hosts-%E6%96%87%E4%BB%B6"><span class="toc-number">2.10.2.</span> <span class="toc-text">hosts 文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="toc-number">2.11.</span> <span class="toc-text">配置本地化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#locale-gen"><span class="toc-number">2.11.1.</span> <span class="toc-text">locale.gen</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#locale-conf"><span class="toc-number">2.11.2.</span> <span class="toc-text">locale.conf</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%81%E8%AE%B8-os-prober-%E6%A3%80%E6%B5%8B-Windows"><span class="toc-number">2.12.</span> <span class="toc-text">允许 os-prober 检测 Windows</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC"><span class="toc-number">2.13.</span> <span class="toc-text">安装引导</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UEFI-GPT"><span class="toc-number">2.13.1.</span> <span class="toc-text">UEFI + GPT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Legacy-MBR"><span class="toc-number">2.13.2.</span> <span class="toc-text">Legacy + MBR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%90%AF%E5%89%8D%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B"><span class="toc-number">2.14.</span> <span class="toc-text">重启前要做的事</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%90%AF"><span class="toc-number">2.15.</span> <span class="toc-text">重启</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-number">3.</span> <span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%94%A8%E6%88%B7"><span class="toc-number">3.1.</span> <span class="toc-text">创建新用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%96%87%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">交换文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pacman-conf-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">pacman.conf 的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Misc-options"><span class="toc-number">3.3.1.</span> <span class="toc-text">Misc options</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%9D%E5%A4%96%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="toc-number">3.3.2.</span> <span class="toc-text">额外软件源</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#multilib"><span class="toc-number">3.3.2.1.</span> <span class="toc-text">multilib</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arch-Linux-CN"><span class="toc-number">3.3.2.2.</span> <span class="toc-text">Arch Linux CN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Chaotic-AUR"><span class="toc-number">3.3.2.3.</span> <span class="toc-text">Chaotic-AUR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Clansty"><span class="toc-number">3.3.2.4.</span> <span class="toc-text">Clansty</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%87"><span class="toc-number">3.4.</span> <span class="toc-text">中文</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">3.4.1.</span> <span class="toc-text">设置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93"><span class="toc-number">3.4.2.</span> <span class="toc-text">安装字体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zsh"><span class="toc-number">3.5.</span> <span class="toc-text">Zsh</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">3.5.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E9%BB%98%E8%AE%A4-Shell"><span class="toc-number">3.5.2.</span> <span class="toc-text">更改默认 Shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zim"><span class="toc-number">3.5.3.</span> <span class="toc-text">Zim</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-2"><span class="toc-number">3.5.3.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-1"><span class="toc-number">3.5.3.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90"><span class="toc-number">3.5.3.3.</span> <span class="toc-text">模块推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7"><span class="toc-number">3.5.3.3.1.</span> <span class="toc-text">实用工具</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E9%A2%98-%E6%8C%91%E9%80%89%E4%B8%80%E4%B8%AA%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF"><span class="toc-number">3.5.3.3.2.</span> <span class="toc-text">主题(挑选一个安装即可)</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2"><span class="toc-number">4.</span> <span class="toc-text">图形界面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-3"><span class="toc-number">4.1.</span> <span class="toc-text">安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.1.1.</span> <span class="toc-text">显卡驱动</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Intel-%E6%98%BE%E5%8D%A1"><span class="toc-number">4.1.1.1.</span> <span class="toc-text">Intel 显卡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NVIDIA-%E6%98%BE%E5%8D%A1"><span class="toc-number">4.1.1.2.</span> <span class="toc-text">NVIDIA 显卡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%93%E6%9C%89%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.1.1.2.1.</span> <span class="toc-text">专有驱动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.1.1.2.2.</span> <span class="toc-text">开源驱动</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AMD-x2F-ATI-%E6%98%BE%E5%8D%A1"><span class="toc-number">4.1.1.3.</span> <span class="toc-text">AMD &#x2F; ATI 显卡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E9%A9%B1%E5%8A%A8-1"><span class="toc-number">4.1.1.3.1.</span> <span class="toc-text">开源驱动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%97%AD%E6%BA%90%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.1.1.3.2.</span> <span class="toc-text">闭源驱动</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%98%BE%E5%8D%A1"><span class="toc-number">4.1.1.4.</span> <span class="toc-text">其他显卡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DE-x2F-WM"><span class="toc-number">4.1.2.</span> <span class="toc-text">DE &#x2F; WM</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#KDE-Plasma"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">KDE Plasma</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GNOME"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">GNOME</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#XFCE"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">XFCE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DDE"><span class="toc-number">4.1.2.4.</span> <span class="toc-text">DDE</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-number">4.1.3.</span> <span class="toc-text">图形化登录管理器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SDDM"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">SDDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GDM"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">GDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LXDM"><span class="toc-number">4.1.3.3.</span> <span class="toc-text">LXDM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LightDM"><span class="toc-number">4.1.3.4.</span> <span class="toc-text">LightDM</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7-x2F-%E8%BD%AF%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">常用工具 &#x2F; 软件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AUR-Tools"><span class="toc-number">5.1.</span> <span class="toc-text">AUR Tools</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">5.2.</span> <span class="toc-text">浏览器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8-x2F-IDE"><span class="toc-number">5.3.</span> <span class="toc-text">文本编辑器 &#x2F; IDE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9E%E5%85%AC%E5%A5%97%E4%BB%B6"><span class="toc-number">5.4.</span> <span class="toc-text">办公套件</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://chitang.tech/posts/arch-guide/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Chi_Tang"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Chi_Tang's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Arch Linux 折腾指南</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2021-12-06 19:01:57" itemprop="dateCreated datePublished" datetime="2021-12-06T19:01:57+08:00">2021-12-06</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <time title="修改时间：2022-06-18 11:21:26" itemprop="dateModified" datetime="2022-06-18T11:21:26+08:00">2022-06-18</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="本文字数">4.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="阅读时长">17m</span></span></span><div class="post-classify"><span class="post-tag"><a class="tag-item" href="/tags/Arch/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Arch</span></a><a class="tag-item" href="/tags/Linux/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Linux</span></a><a class="tag-item" href="/tags/Guide/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">Guide</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><div class="warning">

<blockquote>
<p>本文仅为 <a target="_blank" rel="noopener" href="https://www.archlinux.org/">Arch Linux</a> 的个人安装 &amp; 配置过程，不代表 Arch Linux 官方<br>Arch Linux 是一个滚动更新的发行版，需要经常通过 <code>sudo pacman -Syu</code> 来更新软件包，否则可能会导致滚挂，如果不经常使用电脑但也想用 Arch Linux，请在<a href="#%E5%86%85%E6%A0%B8%E7%9A%84%E9%80%89%E6%8B%A9">选择内核</a>时采用 <code>linux-lts</code><br>本文命令行中文本编辑均使用 <code>vim</code>，你可以换成任何你喜欢的其他编辑器<br>本文图形界面的配置仅介绍了 <code>Xorg</code> 且美化部分仅有 <code>KDE Plasma</code>(甚至还没写)，如果要使用其他的环境，请自行查找其他文章</p>
</blockquote>
</div>

<p>目录在左侧(移动端为左上角菜单中)，可通过点击目录标题进入相应内容</p>
<p>To-Do List:</p>
<ul>
<li><input disabled="" type="checkbox"> 图形界面美化</li>
<li><input disabled="" type="checkbox"> 补全教程图片</li>
<li><input disabled="" type="checkbox"> 制作视频教程 <em>咕咕咕</em></li>
</ul>
<h1 id="正式安装前的准备"><a href="#正式安装前的准备" class="headerlink" title="正式安装前的准备"></a>正式安装前的准备</h1><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>Arch Linux 有许多镜像源，你可以在<a target="_blank" rel="noopener" href="https://archlinux.org/download/">官方的下载链接</a>中寻找一个离自己最近的镜像源进行下载</p>
<p>在中国大陆，我推荐<a target="_blank" rel="noopener" href="https://mirrors.bfsu.edu.cn/">北京外国语大学开源软件镜像站</a>，在右侧的 “获取下载链接” 处即可找到 Arch Linux 的最新 ISO 文件</p>
<p><img src="/images/arch-guide/bfsu.png" alt="bfsu" loading="lazy"></p>
<h2 id="刻录"><a href="#刻录" class="headerlink" title="刻录"></a>刻录</h2><h3 id="Ventoy-推荐"><a href="#Ventoy-推荐" class="headerlink" title="Ventoy(推荐)"></a>Ventoy(推荐)</h3><p>在一个已经安装好 <a target="_blank" rel="noopener" href="https://ventoy.net/">Ventoy</a> 的 U 盘上，直接把 ISO 文件放进去即可生效</p>
<h3 id="Linux-DD"><a href="#Linux-DD" class="headerlink" title="Linux DD"></a>Linux DD</h3><div class="danger">

<blockquote>
<p>在进行 dd 操作前，请确保驱动器内的数据都已经备份，否则会丢失数据</p>
</blockquote>
</div>

<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/path/to/archlinux-*.iso <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sdX <span class="token assign-left variable">status</span><span class="token operator">=</span>progress</code></pre>

<p>将 <code>/path/to/archlinux-*.iso</code> 替换为你的 ISO 文件的位置</p>
<p>将 <code>/dev/sdX</code> 替换为你的 U 盘设备名</p>
<p><img src="/images/arch-guide/linux-dd.png" alt="Linux DD" loading="lazy"></p>
<h3 id="Windows-Rufus"><a href="#Windows-Rufus" class="headerlink" title="Windows Rufus"></a>Windows Rufus</h3><p>在 Windows 上，我更加推荐使用 <a target="_blank" rel="noopener" href="https://rufus.ie/">Rufus</a> 进行刻录</p>
<div class="danger">

<blockquote>
<p>同样地，在进行刻录前，请确保驱动器内的数据都已经备份，否则会丢失数据</p>
</blockquote>
</div>

<h2 id="准备磁盘分区"><a href="#准备磁盘分区" class="headerlink" title="准备磁盘分区"></a>准备磁盘分区</h2><p>最好在进入 Arch Linux LiveCD 前先编辑分区，为 Arch Linux 留出足够的空间，但<strong>不要</strong>在这时对分区进行格式化，否则可能会出现不可预料的问题</p>
<h2 id="BIOS-设置"><a href="#BIOS-设置" class="headerlink" title="BIOS 设置"></a>BIOS 设置</h2><h3 id="强制-UEFI-启动"><a href="#强制-UEFI-启动" class="headerlink" title="强制 UEFI 启动"></a>强制 UEFI 启动</h3><p>如果没有特殊需求(如需要与采用 Legacy 为引导方式的 Windows 共存)，请前往主板的设置界面关闭 <code>CSM</code> 以强制以 UEFI 方式启动</p>
<p>具体的设置方式请自行前往互联网寻找答案或在评论区询问</p>
<h3 id="关闭安全启动"><a href="#关闭安全启动" class="headerlink" title="关闭安全启动"></a>关闭安全启动</h3><p>Arch Linux 的 LiveCD 是不带安全启动签名的，如果启用安全启动会导致无法进入系统</p>
<p>具体的设置方式也请自行前往互联网寻找答案或在评论区询问</p>
<h2 id="进入-LiveCD"><a href="#进入-LiveCD" class="headerlink" title="进入 LiveCD"></a>进入 LiveCD</h2><p>在<a href="#%E5%88%BB%E5%BD%95">刻录</a>步骤中，我们已经将 ISO 文件刻录到了 U 盘，现在就应设置为 U 盘启动进入 Arch Linux LiveCD 了</p>
<p>具体的设置方式请自行前往互联网寻找答案或在评论区询问</p>
<div class="success">

<blockquote>
<p>至此，正式安装前的准备已完成，请进入 Arch Linux LiveCD 并进行安装</p>
</blockquote>
</div>

<p>Arch Linux ISO 现已加入 <code>archinstall</code> 工具，可以在启动 LiveCD 后运行 <code>archinstall</code> 进行引导式安装</p>
<p>但根据我几个朋友的反馈，这个工具的 bug 和怪问题还是不少的，所以不推荐使用这种方法安装</p>
<p>如果你通过 <code>archinstall</code> 安装，那么你可以跳过 <a href="#LiveCD">LiveCD 部分</a>和<a href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2">图形界面部分</a></p>
<h1 id="LiveCD"><a href="#LiveCD" class="headerlink" title="LiveCD"></a>LiveCD</h1><h2 id="联网"><a href="#联网" class="headerlink" title="联网"></a>联网</h2><h3 id="有线连接到路由器"><a href="#有线连接到路由器" class="headerlink" title="有线连接到路由器"></a>有线连接到路由器</h3><p>如果采用这种方法连接到互联网，那么默认情况下无需其他配置</p>
<p>如果无法连接到互联网，那么可以尝试重新启动 <code>dhcpcd</code> 服务</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">systemctl restart dhcpcd</code></pre>

<h3 id="WiFi-连接"><a href="#WiFi-连接" class="headerlink" title="WiFi 连接"></a>WiFi 连接</h3><p>想要在 LiveCD 中使用 WiFi 会稍微有些麻烦，可以使用 <code>iwctl</code> 命令来进行 WiFi 的配置，在下面会列出 <code>iwctl</code> 的简单使用方法</p>
<pre class="language-none"><code class="language-none">[archlinux@archlinux ~]$ iwctl  # 进入 iwd 的交互提示符
[iwd]# device list  # 列出所有 WiFi 设备
[iwd]# station &lt;device&gt; scan  # 扫描 WiFi 网络
[iwd]# station &lt;device&gt; connect &lt;ssid&gt;  # 连接到 WiFi 网络</code></pre>

<p>或者可以改成命令行参数的形式</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">iwctl --passphrase <span class="token operator">&lt;</span>passphrase<span class="token operator">></span> station <span class="token operator">&lt;</span>device<span class="token operator">></span> connect <span class="token operator">&lt;</span>SSID<span class="token operator">></span></code></pre>

<h3 id="检查网络连接"><a href="#检查网络连接" class="headerlink" title="检查网络连接"></a>检查网络连接</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">ping</span> -c <span class="token number">3</span> archlinux.org</code></pre>

<p>如果没有报错则说明网络连接正常</p>
<h2 id="更新系统时间"><a href="#更新系统时间" class="headerlink" title="更新系统时间"></a>更新系统时间</h2><pre class="language-bash" data-language="bash"><code class="language-bash">timedatectl set-ntp <span class="token boolean">true</span></code></pre>

<h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><p>首先，通过 <code>lsblk</code> 或是 <code>fdisk -l</code> 确定需要安装 Arch Linux 的硬盘</p>
<p>在这里，我们只需要确定硬盘的设备名，例如 <code>/dev/sda</code></p>
<p>在 LiveCD 中分区可以通过 <code>parted</code> <code>fdisk</code> <code>cfdisk</code> 等工具完成，本文章会详细介绍 <code>fdisk</code> 的使用方法</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">fdisk</span> /dev/sdX   <span class="token comment"># 进入 fdisk 交互提示符</span></code></pre>

<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>m</code></td>
<td>获取帮助</td>
</tr>
<tr>
<td><code>p</code></td>
<td>显示当前分区表</td>
</tr>
<tr>
<td><code>n</code></td>
<td>新建分区</td>
</tr>
<tr>
<td><code>o</code></td>
<td>新建 MBR 分区表(会丢失数据)</td>
</tr>
<tr>
<td><code>g</code></td>
<td>新建 GPT 分区表(会丢失数据)</td>
</tr>
<tr>
<td><code>w</code></td>
<td>保存更改</td>
</tr>
<tr>
<td><code>q</code></td>
<td>不保存更改退出</td>
</tr>
<tr>
<td><code>d</code></td>
<td>删除分区</td>
</tr>
</tbody></table>
<p>在新建分区时</p>
<p><code>Partition number</code> 保持默认，并请记住它，以便下一步操作</p>
<p><code>First sector</code> 保持默认</p>
<p><code>Last sector</code> 填写分区大小，以 <code>+</code> 开头，以单位结尾，例如 <code>+512M</code> 为 512MiB 的分区</p>
<p>MBR 推荐分区:</p>
<table>
<thead>
<tr>
<th>挂载点</th>
<th>文件系统</th>
<th>分区推荐大小(以 120GiB 硬盘为例)</th>
<th>文章中所使用的分区号</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;</td>
<td>ext4</td>
<td>50GiB</td>
<td>&#x2F;dev&#x2F;sda1</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>ext4</td>
<td>70GiB</td>
<td>&#x2F;dev&#x2F;sda2</td>
</tr>
</tbody></table>
<p>GPT 推荐分区:</p>
<table>
<thead>
<tr>
<th>挂载点</th>
<th>文件系统</th>
<th>分区推荐大小(以 120GiB 硬盘为例)</th>
<th>文章中所使用的分区号</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;boot</td>
<td>FAT32</td>
<td>300MiB</td>
<td>&#x2F;dev&#x2F;sda1</td>
</tr>
<tr>
<td>&#x2F;</td>
<td>ext4</td>
<td>50GiB</td>
<td>&#x2F;dev&#x2F;sda2</td>
</tr>
<tr>
<td>&#x2F;home</td>
<td>ext4</td>
<td>69.7GiB</td>
<td>&#x2F;dev&#x2F;sda3</td>
</tr>
</tbody></table>
<p><code>/home</code> 分区是可选的，如果不需要 <code>/home</code> 分区，可以将所用空间全部分配到 <code>/</code> 分区</p>
<h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><pre class="language-bash" data-language="bash"><code class="language-bash">mkfs.ext4 /dev/sdXY <span class="token comment"># 格式化 /dev/sdXY 为 ext4 文件系统</span>
mkfs.fat -F32 /dev/sdXY <span class="token comment"># 格式化 /dev/sdXY 为 FAT32 文件系统</span></code></pre>

<p>请自行替换 <code>/dev/sdXY</code> 到对应的块设备</p>
<h2 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h2><h3 id="GPT"><a href="#GPT" class="headerlink" title="GPT"></a>GPT</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mount</span> /dev/sda2 /mnt  <span class="token comment"># 挂载 /dev/sda2 到 /mnt( / 分区)</span>
<span class="token function">mkdir</span> /mnt/boot /mnt/home <span class="token comment"># 创建 /mnt/boot 和 /mnt/home 文件夹</span>
<span class="token function">mount</span> /dev/sda1 /mnt/boot <span class="token comment"># 挂载 /dev/sda1 到 /mnt/boot( /boot 分区)</span>
<span class="token function">mount</span> /dev/sda3 /mnt/home <span class="token comment"># 挂载 /dev/sda3 到 /mnt/home( /home 分区)</span></code></pre>

<h3 id="MBR"><a href="#MBR" class="headerlink" title="MBR"></a>MBR</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mount</span> /dev/sda1 /mnt  <span class="token comment"># 挂载 /dev/sda1 到 /mnt( / 分区)</span>
<span class="token function">mkdir</span> /mnt/home <span class="token comment"># 创建 /mnt/home 文件夹</span>
<span class="token function">mount</span> /dev/sda2 /mnt/home <span class="token comment"># 挂载 /dev/sda2 到 /mnt/home( /home 分区)</span></code></pre>

<h2 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h2><p>与<a href="#%E4%B8%8B%E8%BD%BD">下载 Arch Linux</a>一样，在中国大陆地区，默认的镜像源是极慢的</p>
<p>可以通过编辑 <code>/etc/pacman.d/mirrorlist</code> 的方式来更改镜像源</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/pacman.d/mirrorlist</code></pre>

<p>在文件的开头添加类似 <code>Server = https://mirrors.bfsu.edu.cn/archlinux/$repo/os/$arch</code> 的内容，保存并退出</p>
<h2 id="安装-Arch-Linux-到硬盘"><a href="#安装-Arch-Linux-到硬盘" class="headerlink" title="安装 Arch Linux 到硬盘"></a>安装 Arch Linux 到硬盘</h2><h3 id="内核的选择"><a href="#内核的选择" class="headerlink" title="内核的选择"></a>内核的选择</h3><p>在这里列出了官方源中所存在的部分内核，可以根据自己的需求选择</p>
<table>
<thead>
<tr>
<th>内核</th>
<th>特点</th>
</tr>
</thead>
<tbody><tr>
<td><code>linux</code></td>
<td>官方的默认内核</td>
</tr>
<tr>
<td><code>linux-lts</code></td>
<td>官方的长期支持内核，版本较低，但相对不容易滚挂</td>
</tr>
<tr>
<td><code>linux-zen</code></td>
<td>社区制作的更适合日常使用的内核</td>
</tr>
</tbody></table>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class="language-bash" data-language="bash"><code class="language-bash">pacstrap /mnt base base-devel linux-firmware <span class="token operator">&lt;</span>linux-kernel<span class="token operator">></span> <span class="token operator">&lt;</span>linux-kernel<span class="token operator">></span>-headers grub <span class="token function">vim</span> dhcpcd iwd os-prober efibootmgr <span class="token punctuation">[</span>other packages you want<span class="token punctuation">]</span></code></pre>

<p>将 <code>&lt;linux-kernel&gt;</code> 替换为你所选定的内核</p>
<h2 id="生成分区表"><a href="#生成分区表" class="headerlink" title="生成分区表"></a>生成分区表</h2><pre class="language-bash" data-language="bash"><code class="language-bash">genfstab -U /mnt <span class="token operator">></span> /mnt/etc/fstab</code></pre>

<p>最好再自行检查一下 <code>/mnt/etc/fstab</code> 以确保信息正确</p>
<h2 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h2><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt  <span class="token comment"># 切换到新的系统</span>
<span class="token function">ln</span> -sf /usr/share/zoneinfo/<span class="token operator">&lt;</span>Region<span class="token operator">></span>/<span class="token operator">&lt;</span>City<span class="token operator">></span> /etc/localtime
hwclock --systohc</code></pre>

<p><code>&lt;Region&gt;</code> 和 <code>&lt;City&gt;</code> 分别是你所在的地区和城市，例如 <code>Asia/Shanghai</code></p>
<div class="warning">

<blockquote>
<p><strong>如果在之后没有执行 <code>exit</code> 命令退出 arch-chroot 环境，在后面的操作中就不需要再次执行 <code>arch-chroot /mnt</code></strong></p>
</blockquote>
</div>

<h2 id="设置网络相关"><a href="#设置网络相关" class="headerlink" title="设置网络相关"></a>设置网络相关</h2><h3 id="计算机名"><a href="#计算机名" class="headerlink" title="计算机名"></a>计算机名</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
<span class="token function">vim</span> /etc/hostname</code></pre>

<p>在文件中写入你的计算机名，例如 <code>chitang-pc</code></p>
<p>保存并退出</p>
<h3 id="hosts-文件"><a href="#hosts-文件" class="headerlink" title="hosts 文件"></a>hosts 文件</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
<span class="token function">vim</span> /etc/hosts</code></pre>

<p>在文件中写入下面的内容</p>
<pre class="language-none"><code class="language-none">127.0.0.1 localhost
::1       localhost
127.0.1.1 &lt;hostname&gt;.localdomain  &lt;hostname&gt;</code></pre>

<p>将 <code>&lt;hostname&gt;</code> 替换为你的计算机名，保存并退出</p>
<h2 id="配置本地化"><a href="#配置本地化" class="headerlink" title="配置本地化"></a>配置本地化</h2><h3 id="locale-gen"><a href="#locale-gen" class="headerlink" title="locale.gen"></a>locale.gen</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
<span class="token function">vim</span> /etc/locale.gen</code></pre>

<p>在文件中找到 <code>en_US.UTF-8 UTF-8</code> 及 <code>zh_CN.UTF-8 UTF-8</code>，删除前面的 <code>#</code> 以取消注释</p>
<p>同样地，在这里也可以设置其他语言的的 <code>locale</code>，例如 <code>ja_JP.UTF-8 UTF-8</code></p>
<pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
locale-gen  <span class="token comment"># 生成本地化文件</span></code></pre>

<h3 id="locale-conf"><a href="#locale-conf" class="headerlink" title="locale.conf"></a>locale.conf</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
<span class="token function">vim</span> /etc/locale.conf</code></pre>

<p>在文件中加入 <code>LANG=en_US.UTF-8</code>，保存并退出</p>
<div class="warning">

<blockquote>
<p>请不要在这里设置任何其他的语言，否则极易导致 tty 乱码</p>
</blockquote>
</div>

<h2 id="允许-os-prober-检测-Windows"><a href="#允许-os-prober-检测-Windows" class="headerlink" title="允许 os-prober 检测 Windows"></a>允许 os-prober 检测 Windows</h2><div class="success">

<blockquote>
<p>可选，如果不需要启用 GRUB 对 Windows Boot Manager 的支持，可以跳过这一步</p>
</blockquote>
</div>

<pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
<span class="token function">vim</span> /etc/default/grub</code></pre>

<p>在文件任意位置加入 <code>GRUB_DISABLE_OS_PROBER=&quot;false&quot;</code>，保存并退出</p>
<h2 id="安装引导"><a href="#安装引导" class="headerlink" title="安装引导"></a>安装引导</h2><h3 id="UEFI-GPT"><a href="#UEFI-GPT" class="headerlink" title="UEFI + GPT"></a>UEFI + GPT</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
grub-install --target<span class="token operator">=</span>x86_64-efi --efi-directory<span class="token operator">=</span>/boot --bootloader-id<span class="token operator">=</span>grub <span class="token comment"># 在 /boot 安装引导</span>
<span class="token function">grub-mkconfig</span> -o /boot/grub/grub.cfg  <span class="token comment"># 生成 GRUB 配置</span></code></pre>

<h3 id="Legacy-MBR"><a href="#Legacy-MBR" class="headerlink" title="Legacy + MBR"></a>Legacy + MBR</h3><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
grub-install --target<span class="token operator">=</span>i386-pc /dev/sdX  <span class="token comment"># 在 /dev/sdX 安装引导，不要加分区号</span>
<span class="token function">grub-mkconfig</span> -o /boot/grub/grub.cfg  <span class="token comment"># 生成 GRUB 配置</span></code></pre>

<h2 id="重启前要做的事"><a href="#重启前要做的事" class="headerlink" title="重启前要做的事"></a>重启前要做的事</h2><pre class="language-bash" data-language="bash"><code class="language-bash">arch-chroot /mnt
systemctl <span class="token builtin class-name">enable</span> dhcpcd <span class="token comment"># 启用 dhcpcd 服务以便进入系统后自动联网</span>
<span class="token function">passwd</span>  <span class="token comment"># 设置 root 密码</span></code></pre>

<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><div class="success">

<blockquote>
<p>至此，在 LiveCD 部分的安装已经完成，你现在可以拔掉启动介质，重启，然后进入 Arch Linux 的 tty</p>
</blockquote>
</div>

<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="创建新用户"><a href="#创建新用户" class="headerlink" title="创建新用户"></a>创建新用户</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">useradd</span> -m -G wheel <span class="token operator">&lt;</span>username<span class="token operator">></span>
<span class="token function">passwd</span> <span class="token operator">&lt;</span>username<span class="token operator">></span>
<span class="token assign-left variable">EDITOR</span><span class="token operator">=</span>vim visudo</code></pre>

<p>在打开的文件中找到 <code>%wheel ALL=(ALL) ALL</code>，删除前面的 <code>#</code> 以取消注释，保存并退出</p>
<p>之后，就可以退出 root 账户(直接 <code>exit</code>)，然后使用你自己的账户进行下面的操作</p>
<h2 id="交换文件"><a href="#交换文件" class="headerlink" title="交换文件"></a>交换文件</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/swapfile <span class="token assign-left variable">bs</span><span class="token operator">=</span>1M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token operator">&lt;</span>size<span class="token operator">></span>  <span class="token comment"># 在 size 处填写需要的 swap 空间大小(单位 MiB)</span>
<span class="token function">sudo</span> <span class="token function">mkswap</span> /swapfile
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /swapfile
<span class="token function">sudo</span> <span class="token function">swapon</span> /swapfile</code></pre>

<p>然后编辑 <code>/etc/fstab</code>，在文件末尾加入以下内容</p>
<pre class="language-none"><code class="language-none">&#x2F;swapfile       none    swap    defaults        0       0</code></pre>

<h2 id="pacman-conf-的配置"><a href="#pacman-conf-的配置" class="headerlink" title="pacman.conf 的配置"></a>pacman.conf 的配置</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/pacman.conf</code></pre>

<h3 id="Misc-options"><a href="#Misc-options" class="headerlink" title="Misc options"></a>Misc options</h3><div class="success">

<blockquote>
<p>这部分内容是可选的，且不影响基本操作</p>
</blockquote>
</div>

<p>将 <code>Color</code> 取消注释，让你的 pacman 有颜色</p>
<p>手动加入 <code>ILoveCandy</code>，把 pacman 下载的进度条替换成吃豆人</p>
<p>将 <code>VerbosePkgLists</code> 取消注释，让 pacman 以表格显示更详细的信息</p>
<h3 id="额外软件源"><a href="#额外软件源" class="headerlink" title="额外软件源"></a>额外软件源</h3><h4 id="multilib"><a href="#multilib" class="headerlink" title="multilib"></a>multilib</h4><p><code>multilib</code> 软件源中包含一些 32 位的依赖包</p>
<p>翻到文件后面，找到</p>
<pre class="language-none"><code class="language-none">#[multilib]
#Include &#x3D; &#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist</code></pre>

<p>去掉这两行前面的 <code>#</code> 以取消注释即可启用 <code>multilib</code> 软件源</p>
<h4 id="Arch-Linux-CN"><a href="#Arch-Linux-CN" class="headerlink" title="Arch Linux CN"></a>Arch Linux CN</h4><p><code>Arch Linux CN</code> 源中包含许多在国内使用 Linux 常用的软件包，虽然这些都可以在 AUR 中安装，但这里的软件包下载速度比较快</p>
<p>在文件最后面添加下面这两行</p>
<pre class="language-none"><code class="language-none">[archlinuxcn]
Server &#x3D; https:&#x2F;&#x2F;mirrors.bfsu.edu.cn&#x2F;archlinuxcn&#x2F;$arch</code></pre>

<p>保存并退出</p>
<p>更新软件源并安装密钥</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -Sy archlinuxcn-keyring</code></pre>

<h4 id="Chaotic-AUR"><a href="#Chaotic-AUR" class="headerlink" title="Chaotic-AUR"></a>Chaotic-AUR</h4><p><code>Chaotic-AUR</code> 中包含一些经过编译的 AUR 软件</p>
<p>导入 <code>Chaotic-AUR</code> 的 Pacman 密钥并安装 mirrorlist</p>
<pre class="language-bash" data-language="bash"><code class="language-bash">pacman-key --recv-key FBA220DFC880C036 --keyserver keyserver.ubuntu.com
pacman-key --lsign-key FBA220DFC880C036
pacman -U <span class="token string">'https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-keyring.pkg.tar.zst'</span> <span class="token string">'https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-mirrorlist.pkg.tar.zst'</span></code></pre>

<p>然后在 <code>/etc/pacman.conf</code> 最下方加入以下两行</p>
<pre class="language-none"><code class="language-none">[chaotic-aur]
Include &#x3D; &#x2F;etc&#x2F;pacman.d&#x2F;chaotic-mirrorlist </code></pre>

<p>然后更新软件源</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -Sy</code></pre>

<p>如果速度过慢可以尝试使用反代服务</p>
<h4 id="Clansty"><a href="#Clansty" class="headerlink" title="Clansty"></a>Clansty</h4><p>同样也是一些编译后的 AUR 软件</p>
<p>在 <code>/etc/pacman.conf</code> 最下方加入: </p>
<pre class="language-none"><code class="language-none">[Clansty]
SigLevel &#x3D; Never
Server &#x3D; https:&#x2F;&#x2F;repo.lwqwq.com&#x2F;archlinux&#x2F;$arch
Server &#x3D; https:&#x2F;&#x2F;pacman.ltd&#x2F;archlinux&#x2F;$arch
Server &#x3D; https:&#x2F;&#x2F;repo.clansty.com&#x2F;archlinux&#x2F;$arch</code></pre>

<p>然后更新软件源</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -Sy</code></pre>

<h2 id="中文"><a href="#中文" class="headerlink" title="中文"></a>中文</h2><div class="warning">

<blockquote>
<p>这部分中文配置仅在桌面环境运行时有效，因为在 tty 中显示中文会导致乱码</p>
</blockquote>
</div>

<h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> ~/.xprofile</code></pre>

<p>添加下面两行:</p>
<pre class="language-none"><code class="language-none">export LANG&#x3D;zh_CN.UTF-8
export LC_ALL&#x3D;zh_CN.UTF-8</code></pre>

<h3 id="安装字体"><a href="#安装字体" class="headerlink" title="安装字体"></a>安装字体</h3><p>部分来自 AUR 的字体需要通过 <a href="#aur-tools">AUR Tool</a> 安装</p>
<p>在下面列出了一些(我推荐的)字体，可以自行安装</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S wqy-microhei <span class="token comment"># 文泉驿</span>
<span class="token function">sudo</span> pacman -S adobe-source-sans-fonts  <span class="token comment"># 思源黑体</span>
paru -S harmonyos-sans-git  <span class="token comment"># 鸿蒙黑体</span>
paru -S ttf-misans  <span class="token comment"># MiSans</span></code></pre>

<h2 id="Zsh"><a href="#Zsh" class="headerlink" title="Zsh"></a>Zsh</h2><p><a target="_blank" rel="noopener" href="https://zsh.sourceforge.io/">Zsh</a> 是一个 Shell 程序</p>
<h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S <span class="token function">zsh</span></code></pre>

<h3 id="更改默认-Shell"><a href="#更改默认-Shell" class="headerlink" title="更改默认 Shell"></a>更改默认 Shell</h3><pre class="language-bash" data-language="bash"><code class="language-bash">chsh -s /usr/bin/zsh</code></pre>

<p>如果使用图形界面，也请将所使用的终端模拟器默认 Shell 更换为 zsh</p>
<h3 id="Zim"><a href="#Zim" class="headerlink" title="Zim"></a>Zim</h3><p><a target="_blank" rel="noopener" href="https://zimfw.sh/">Zim</a> 是一个 zsh 的模块化配置框架</p>
<h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> -nv -O - https://raw.githubusercontent.com/zimfw/install/master/install.zsh <span class="token operator">|</span> <span class="token function">zsh</span></code></pre>

<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>Zimfw 的配置文件为 <code>~/.zimrc</code></p>
<p>使用任意文本编辑器打开它，配置文件的编写格式为:</p>
<pre class="language-none"><code class="language-none">zmodule [module name] # 模块在 zimfw 官方组织
zmodule [author]&#x2F;[module name] # 模块在 Github 上
zmodule https:&#x2F;&#x2F;[host]&#x2F;[author]&#x2F;[module name].git # 模块在其他 Git 仓库中</code></pre>

<p>在添加好模块后，可以通过 <code>zimfw install</code> 命令安装，本文同样提供<a href="#%E6%A8%A1%E5%9D%97%E6%8E%A8%E8%8D%90">模块推荐</a></p>
<p>在之后可以通过 <code>zimfw update</code> 更新模块，通过 <code>zimfw upgrade</code> 更新 Zim 本体</p>
<h4 id="模块推荐"><a href="#模块推荐" class="headerlink" title="模块推荐"></a>模块推荐</h4><p>部分内容来自 <a target="_blank" rel="noopener" href="https://zimfw.sh/docs/modules/">Zim 官方网站</a></p>
<h5 id="实用工具"><a href="#实用工具" class="headerlink" title="实用工具"></a>实用工具</h5><table>
<thead>
<tr>
<th>模块名</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>archive</td>
<td>快速操作压缩包</td>
</tr>
<tr>
<td>exa</td>
<td>添加 exa 的 alias 以便能够在 ls 中显示图片和图标</td>
</tr>
<tr>
<td>pacman</td>
<td>添加 pacman 的 alias 方便操作</td>
</tr>
<tr>
<td>git-info</td>
<td>提供当前 Git repo 的状态信息</td>
</tr>
<tr>
<td>Aloxaf&#x2F;fzf-tab</td>
<td>将 Tab 菜单替换为类似 fzf 的菜单</td>
</tr>
<tr>
<td>zsh-users&#x2F;zsh-autosuggestions</td>
<td>增加自动补全功能</td>
</tr>
<tr>
<td>zsh-users&#x2F;zsh-syntax-highlighting</td>
<td>增加语法高亮功能</td>
</tr>
<tr>
<td>zsh-users&#x2F;zsh-history-substring-search</td>
<td>增加搜索历史记录功能</td>
</tr>
</tbody></table>
<h5 id="主题-挑选一个安装即可"><a href="#主题-挑选一个安装即可" class="headerlink" title="主题(挑选一个安装即可)"></a>主题(挑选一个安装即可)</h5><table>
<thead>
<tr>
<th>模块名</th>
<th>特点</th>
<th>预览</th>
</tr>
</thead>
<tbody><tr>
<td>gitster</td>
<td>简洁</td>
<td><img src="https://camo.githubusercontent.com/7ebba9863fafbf14cf179ef1555d8a53882188eb3d5b125084c8d26f2b008f71/68747470733a2f2f7a696d66772e6769746875622e696f2f696d616765732f70726f6d7074732f6769747374657240322e706e67" alt="gitster" loading="lazy"></td>
</tr>
<tr>
<td>magicmace</td>
<td>方便查看 Git 状态</td>
<td><img src="https://camo.githubusercontent.com/c8215d78fe82b947668317b16cdee0a16d25ed7b24c462cb198e1ac6c037f3f1/68747470733a2f2f7a696d66772e6769746875622e696f2f696d616765732f70726f6d7074732f6d616769636d61636540322e706e67" alt="magicmace" loading="lazy"></td>
</tr>
<tr>
<td>romkatv&#x2F;powerlevel10k</td>
<td>美观，可自定义性极强</td>
<td><img src="https://raw.githubusercontent.com/romkatv/powerlevel10k-media/master/prompt-styles-high-contrast.png" alt="powerlevel10k" loading="lazy"></td>
</tr>
</tbody></table>
<h1 id="图形界面"><a href="#图形界面" class="headerlink" title="图形界面"></a>图形界面</h1><h2 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h2><h3 id="显卡驱动"><a href="#显卡驱动" class="headerlink" title="显卡驱动"></a>显卡驱动</h3><div class="info">

<blockquote>
<p>部分驱动需要启用 <a href="#multilib">32 位源</a><br>带有 <sup>AUR</sup> 上标的软件包是来自 AUR 的，需要使用 <a href="#aur-tools">AUR Tool</a> 安装</p>
</blockquote>
</div>

<h4 id="Intel-显卡"><a href="#Intel-显卡" class="headerlink" title="Intel 显卡"></a>Intel 显卡</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S xf86-video-intel <span class="token comment"># 驱动本体</span>
<span class="token function">sudo</span> pacman -S mesa <span class="token comment"># OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S lib32-mesa <span class="token comment"># 32 位 OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S vulkan-intel <span class="token comment"># Vulkan 支持</span>
paru -S intel-opencl  <span class="token comment"># OpenCL 支持</span></code></pre>

<h4 id="NVIDIA-显卡"><a href="#NVIDIA-显卡" class="headerlink" title="NVIDIA 显卡"></a>NVIDIA 显卡</h4><h5 id="专有驱动"><a href="#专有驱动" class="headerlink" title="专有驱动"></a>专有驱动</h5><p>本体:</p>
<table>
<thead>
<tr>
<th></th>
<th>GeForce 930(NV110 及更新)</th>
<th>GeForce 630-920(NVE0)</th>
<th>GeForce 400&#x2F;500&#x2F;600(NVCx &amp; NVDx)</th>
<th>GeForce 8&#x2F;9(NV5x, NV8x, NV9x, NVAx) 不推荐安装专有驱动</th>
<th>GeForce 7 及以下</th>
</tr>
</thead>
<tbody><tr>
<td>linux</td>
<td>nvidia</td>
<td>nvidia-470xx-dkms<sup>AUR</sup></td>
<td>nvidia-390xx-dkms<sup>AUR</sup></td>
<td>nvidia-340xx-dkms<sup>AUR</sup></td>
<td>不支持</td>
</tr>
<tr>
<td>linux-lts</td>
<td>nvidia-lts</td>
<td>nvidia-470xx-dkms<sup>AUR</sup></td>
<td>nvidia-390xx-dkms<sup>AUR</sup></td>
<td>nvidia-340xx-dkms<sup>AUR</sup></td>
<td>不支持</td>
</tr>
<tr>
<td>其他</td>
<td>nvidia-dkms</td>
<td>nvidia-470xx-dkms<sup>AUR</sup></td>
<td>nvidia-390xx-dkms<sup>AUR</sup></td>
<td>nvidia-340xx-dkms<sup>AUR</sup></td>
<td>不支持</td>
</tr>
</tbody></table>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S <span class="token operator">&lt;</span>driver<span class="token operator">></span> <span class="token comment"># 驱动本体</span>
<span class="token function">sudo</span> pacman -S <span class="token operator">&lt;</span>driver<span class="token operator">></span>-utils <span class="token comment"># OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S lib32-<span class="token operator">&lt;</span>driver<span class="token operator">></span>-utils <span class="token comment"># 32 位 OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S opencl-nvidia  <span class="token comment"># OpenCL 支持</span></code></pre>

<h5 id="开源驱动"><a href="#开源驱动" class="headerlink" title="开源驱动"></a>开源驱动</h5><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S xf86-video-nouveau <span class="token comment"># 驱动本体</span>
<span class="token function">sudo</span> pacman -S mesa <span class="token comment"># OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S lib32-mesa <span class="token comment"># 32 位 OpenGL 支持</span></code></pre>

<h4 id="AMD-x2F-ATI-显卡"><a href="#AMD-x2F-ATI-显卡" class="headerlink" title="AMD &#x2F; ATI 显卡"></a>AMD &#x2F; ATI 显卡</h4><h5 id="开源驱动-1"><a href="#开源驱动-1" class="headerlink" title="开源驱动"></a>开源驱动</h5><table>
<thead>
<tr>
<th>架构</th>
<th>驱动</th>
<th>OpenGL</th>
<th>32 位 OpenGL</th>
<th>Vulkan</th>
<th>32 位 Vulkan</th>
</tr>
</thead>
<tbody><tr>
<td>RDNA, RDNA 2, GCN 1, GCN 2, GCN 3, GCN 4, GCN 5</td>
<td>xf86-video-amdgpu</td>
<td>mesa</td>
<td>lib32-mesa</td>
<td>amdvlk</td>
<td>lib32-amdvlk</td>
</tr>
<tr>
<td>GCN 1, GCN 2, TeraScale 或更老</td>
<td>xf86-video-ati</td>
<td>mesa</td>
<td>lib32-mesa</td>
<td>vulkan-radeon</td>
<td>lib32-vulkan-radeon</td>
</tr>
</tbody></table>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S opencl-mesa  <span class="token comment"># OpenCL 支持</span></code></pre>

<h5 id="闭源驱动"><a href="#闭源驱动" class="headerlink" title="闭源驱动"></a>闭源驱动</h5><p>AMD 闭源驱动仅支持 <code>RDNA</code>, <code>RDNA 2</code>, <code>GCN 3</code>, <code>GCN 4</code>, <code>GCN 5</code> 架构的显卡</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S xf86-video-amdgpu <span class="token comment"># 驱动本体</span>
paru -S amdgpu-pro-libgl  <span class="token comment"># OpenGL 支持</span>
paru -S opencl-amd  <span class="token comment"># OpenCL 支持</span>
paru -S vulkan-amdgpu-pro <span class="token comment"># Vulkan 支持</span></code></pre>

<h4 id="其他显卡"><a href="#其他显卡" class="headerlink" title="其他显卡"></a>其他显卡</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S xorg-drivers
<span class="token function">sudo</span> pacman -S mesa <span class="token comment"># OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S lib32-mesa <span class="token comment"># 32 位 OpenGL 支持</span>
<span class="token function">sudo</span> pacman -S pocl <span class="token comment"># OpenCL 支持</span></code></pre>

<h3 id="DE-x2F-WM"><a href="#DE-x2F-WM" class="headerlink" title="DE &#x2F; WM"></a>DE &#x2F; WM</h3><table>
<thead>
<tr>
<th>名称</th>
<th>官方预览图</th>
</tr>
</thead>
<tbody><tr>
<td><a href="#kde-plasma">KDE Plasma</a></td>
<td><img src="https://kde.org/content/plasma-desktop/plasma-widgets.png" alt="KDE Plasma" loading="lazy"></td>
</tr>
<tr>
<td><a href="#gnome">GNOME</a></td>
<td><img src="https://www.gnome.org/wp-content/uploads/2021/03/wgo-splash-40.png" alt="GNOME" loading="lazy"></td>
</tr>
<tr>
<td><a href="#xfce">Xfce 4</a></td>
<td><img src="https://cdn.xfce.org/about/screenshots/4.16-1.png" alt="Xfce 4" loading="lazy"></td>
</tr>
<tr>
<td><a href="#dde">DDE</a></td>
<td><img src="https://distrowatch.com/images/ktyxqzobhgijab/deepin.png" alt="DDE" loading="lazy"></td>
</tr>
</tbody></table>
<h4 id="KDE-Plasma"><a href="#KDE-Plasma" class="headerlink" title="KDE Plasma"></a>KDE Plasma</h4><p>推荐与 <a href="#sddm">SDDM</a> 配合使用</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S plasma kde-applications</code></pre>

<p><code>kde-applications</code> 是可选的，其中包含 KDE 的其他应用</p>
<h4 id="GNOME"><a href="#GNOME" class="headerlink" title="GNOME"></a>GNOME</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S gnome gnome-extra</code></pre>

<p><code>gnome-extra</code> 是可选的，其中包含 GNOME 的其他应用</p>
<h4 id="XFCE"><a href="#XFCE" class="headerlink" title="XFCE"></a>XFCE</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S xfce4 xfce4-goodies</code></pre>

<p><code>xfce4-goodies</code> 是可选的，其中包含 XFCE 的其他应用</p>
<h4 id="DDE"><a href="#DDE" class="headerlink" title="DDE"></a>DDE</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S deepin deepin-extra</code></pre>

<p><code>deepin-extra</code> 是可选的，其中包含 deepin 的其他应用</p>
<h3 id="图形化登录管理器"><a href="#图形化登录管理器" class="headerlink" title="图形化登录管理器"></a>图形化登录管理器</h3><h4 id="SDDM"><a href="#SDDM" class="headerlink" title="SDDM"></a>SDDM</h4><p>推荐与 <a href="#kde-plasma">KDE Plasma</a> 配合使用</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S sddm
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> sddm</code></pre>

<h4 id="GDM"><a href="#GDM" class="headerlink" title="GDM"></a>GDM</h4><p>推荐与 <a href="#gnome">GNOME</a> 配合使用</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S gdm
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> gdm</code></pre>

<h4 id="LXDM"><a href="#LXDM" class="headerlink" title="LXDM"></a>LXDM</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S lxdm
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> lxdm</code></pre>

<h4 id="LightDM"><a href="#LightDM" class="headerlink" title="LightDM"></a>LightDM</h4><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S lightdm
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> lightdm</code></pre>

<h1 id="常用工具-x2F-软件"><a href="#常用工具-x2F-软件" class="headerlink" title="常用工具 &#x2F; 软件"></a>常用工具 &#x2F; 软件</h1><div class="info">

<blockquote>
<p>带有 <sup>AUR</sup> 上标的软件包是来自 AUR 的，需要使用 <a href="#aur-tools">AUR Tool</a> 安装</p>
</blockquote>
</div>

<h2 id="AUR-Tools"><a href="#AUR-Tools" class="headerlink" title="AUR Tools"></a>AUR Tools</h2><p>用于安装来自 AUR 的软件包的工具</p>
<p>推荐 <code>paru</code> 和 <code>yay</code></p>
<p>paru:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://aur.archlinux.org/paru.git
<span class="token builtin class-name">cd</span> paru
makepkg -si
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">rm</span> -rf paru</code></pre>

<p>yay:</p>
<pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone https://aur.archlinux.org/yay.git
<span class="token builtin class-name">cd</span> <span class="token function">git</span>
makepkg -si
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token function">rm</span> -rf yay</code></pre>

<h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><table>
<thead>
<tr>
<th>名称</th>
<th>包名</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://www.chromium.org/">Chromium</a></td>
<td><code>chromium</code></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.mozilla.org/zh-CN/firefox/">Firefox</a></td>
<td><code>firefox</code></td>
<td>全局菜单需要安装 <code>firefox-appmenu</code><sup>AUR</sup></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://google.com/chrome">Google Chrome</a></td>
<td><code>google-chrome</code><sup>AUR</sup></td>
<td></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://microsoft.com/edge">Microsoft Edge</a></td>
<td><code>microsoft-edge-stable-bin</code><sup>AUR</sup></td>
<td></td>
</tr>
</tbody></table>
<h2 id="文本编辑器-x2F-IDE"><a href="#文本编辑器-x2F-IDE" class="headerlink" title="文本编辑器 &#x2F; IDE"></a>文本编辑器 &#x2F; IDE</h2><table>
<thead>
<tr>
<th>名称</th>
<th>包名</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://code.visualstudio.com/">Visual Studio Code</a></td>
<td><code>visual-studio-code-bin</code><sup>AUR</sup></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.jetbrains.com/idea/">IntelliJ IDEA Community Edition</a></td>
<td><code>intellij-idea-community-edition</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.jetbrains.com/idea/">IntelliJ IDEA Ultimate Edition</a></td>
<td><code>intellij-idea-ultimate-edition</code><sup>AUR</sup></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.jetbrains.com/pycharm/">PyCharm Community Edition</a></td>
<td><code>pycharm-community-edition</code></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.jetbrains.com/pycharm/">PyCharm Professional</a></td>
<td><code>pycharm-professional</code><sup>AUR</sup></td>
</tr>
</tbody></table>
<h2 id="办公套件"><a href="#办公套件" class="headerlink" title="办公套件"></a>办公套件</h2><table>
<thead>
<tr>
<th>名称</th>
<th>包名</th>
</tr>
</thead>
<tbody><tr>
<td>LibreOffice</td>
<td><code>libreoffice-fresh</code></td>
</tr>
<tr>
<td>WPS Office</td>
<td><code>wps-office-cn</code><sup>AUR</sup></td>
</tr>
</tbody></table>
<p><img src="/images/stickers/touch-fish.jpg" alt="又摸了一天好累哦" loading="lazy"><em><strong>Working in progress…</strong></em></p>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="打赏" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">给点饭钱</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/QRCodes/afdian.png"><img loading="lazy" src="/images/QRCodes/afdian.png" alt="爱发电" title="爱发电"></a><div><span style="color:#7b5bc3"><svg class="icon" aria-hidden="true"><use xlink:href="#/icon/afdian.png"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/QRCodes/trx.png"><img loading="lazy" src="/images/QRCodes/trx.png" alt="TRON-TRX20" title="TRON-TRX20"></a><div><span style="color:#b73e31"><svg class="icon" aria-hidden="true"><use xlink:href="#/icon/tron.png"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>Chi_Tang</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="https://chitang.tech/posts/arch-guide/" title="Arch Linux 折腾指南">https://chitang.tech/posts/arch-guide/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/andOTP/" rel="prev" title="andOTP - 开源, 多协议的手机验证器"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">andOTP - 开源, 多协议的手机验证器</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/howdy/" rel="next" title="Howdy - Linux 的人脸识别"><span class="post-nav-text">Howdy - Linux 的人脸识别</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><style>.utterances {
  max-width: 100%;
}</style><script src="https://utteranc.es/client.js" repo="chitang233/chitang233" issue-term="pathname" label="comment" theme="github-light" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 – 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> Chi_Tang</span></div><div class="powered"><span>由 <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> 驱动 v6.0.0</span><span class="footer-separator">|</span><span>主题 - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.4</span></div><div class="live-time"><span>本博客已运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-06-25T20:49:30');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" target="_blank" rel="noopener" href="https://www.google.com/search?q=site:chitang.tech" title="搜索"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>function initMourn() {
  const date = new Date();
  const today = (date.getMonth() + 1) + "-" + date.getDate()
  const mourn_days = ["4-4","9-18","12-13"]
  if (mourn_days.includes(today)) {
    document.documentElement.style.filter = "grayscale(1)";
  }
}
initMourn();</script><script src="https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7},"log":false});</script></body></html>